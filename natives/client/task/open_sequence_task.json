{
  "title": "OPEN_SEQUENCE_TASK",
  "breadcrumbs": [
    "Native Reference",
    "TASKAPI",
    "OPEN_SEQUENCE_TASK"
  ],
  "content": "0xE8854A4326B9E12B0xABA6923E// OpenSequenceTask\nvoid OPEN_SEQUENCE_TASK(int* taskSequenceId);Parameters:taskSequenceId: The reference to bind to, in Lua/JS this will be returned as a valueNOTEIf this returns 0 that means it failed to get a sequence id.If you fail to call CLOSE_SEQUENCE_TASK and CLEAR_SEQUENCE_TASK the sequence system can get stuck in a broken state until you restart your client.Examples:LuaC#Citizen.CreateThread(function()\n    local animDict = 'timetable@ron@ig_5_p3'\n\n    RequestAnimDict(animDict)\n    while not HasAnimDictLoaded(animDict) do\n        Wait(0)\n    end\n\n    local ped = PlayerPedId()\n    local pos = GetEntityCoords(ped)\n\n    -- you can change the model, but you might have to change the offsets below.\n    local objModelHash = `prop_bench_01a`\n\n    local obj = GetClosestObjectOfType(pos.x, pos.y, pos.z, 5.0, objModelHash, false, false, false)\n    if obj == 0 then\n        print(\"No valid object within range!\")\n        return\n    end\n\n    local tgtPos = GetOffsetFromEntityInWorldCoords(obj, 0.0, -0.7, 0.0)\n\n    -- open the task sequence so we can get our sequence id\n    local sequence = OpenSequenceTask()\n\n    -- set our desired heading to be the same as the objects\n    local desiredHeading = GetEntityHeading(obj) - 180.0\n\n    -- go to the entities offset\n    TaskGoStraightToCoord(nil, tgtPos.x, tgtPos.y, tgtPos.z, 1.0, 4000, desiredHeading, 1.0)\n\n    -- sit on the bench indefinitely (you can change -1 here to however long you want to sit)\n    TaskPlayAnim(nil, animDict, 'ig_5_p3_base', 8.0, 8.0, -1, 1)\n\n    -- close the sequence so we can perform it\n    CloseSequenceTask(sequence)\n\n    -- perform the sequence, this will not work if the sequence is still open.\n    TaskPerformSequence(ped, sequence)\n\n    -- free the sequence slot so it can be re-used\n    ClearSequenceTask(sequence)\n\n    -- cleanup the animation dict so the engine can remove it when its no longer needed\n    RemoveAnimDict(animDict)\nend)",
  "codeBlocks": [
    "// OpenSequenceTask\nvoid OPEN_SEQUENCE_TASK(int* taskSequenceId);",
    "Citizen.CreateThread(function()\n    local animDict = 'timetable@ron@ig_5_p3'\n\n    RequestAnimDict(animDict)\n    while not HasAnimDictLoaded(animDict) do\n        Wait(0)\n    end\n\n    local ped = PlayerPedId()\n    local pos = GetEntityCoords(ped)\n\n    -- you can change the model, but you might have to change the offsets below.\n    local objModelHash = `prop_bench_01a`\n\n    local obj = GetClosestObjectOfType(pos.x, pos.y, pos.z, 5.0, objModelHash, false, false, false)\n    if obj == 0 then\n        return\n    end\n\n    local tgtPos = GetOffsetFromEntityInWorldCoords(obj, 0.0, -0.7, 0.0)\n\n    -- open the task sequence so we can get our sequence id\n    local sequence = OpenSequenceTask()\n\n    -- set our desired heading to be the same as the objects\n    local desiredHeading = GetEntityHeading(obj) - 180.0\n\n    -- go to the entities offset\n    TaskGoStraightToCoord(nil, tgtPos.x, tgtPos.y, tgtPos.z, 1.0, 4000, desiredHeading, 1.0)\n\n    -- sit on the bench indefinitely (you can change -1 here to however long you want to sit)\n    TaskPlayAnim(nil, animDict, 'ig_5_p3_base', 8.0, 8.0, -1, 1)\n\n    -- close the sequence so we can perform it\n    CloseSequenceTask(sequence)\n\n    -- perform the sequence, this will not work if the sequence is still open.\n    TaskPerformSequence(ped, sequence)\n\n    -- free the sequence slot so it can be re-used\n    ClearSequenceTask(sequence)\n\n    -- cleanup the animation dict so the engine can remove it when its no longer needed\n    RemoveAnimDict(animDict)\nend)",
    "-- Example usage for OPEN_SEQUENCE_TASK\nOpenSequenceTask(0)"
  ],
  "urls": [
    "https://docs.fivem.net/docs/",
    "https://docs.fivem.net/natives/",
    "https://github.com/citizenfx/natives/edit/master/TASK/OpenSequenceTask.md",
    "https://docs.fivem.net/natives/?_0x39E72BC99E6360CB",
    "https://docs.fivem.net/natives/?_0x3841422E9C488D8C",
    "https://www.rockstargames.com/privacy",
    "https://www.rockstargames.com/cookies"
  ],
  "tags": [
    "client"
  ]
}